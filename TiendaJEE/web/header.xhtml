<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <div class="container"><a href="#" data-activates="nav-mobile" class="button-collapse top-nav full hide-on-large-only"><i class="mdi-navigation-menu"></i></a></div>
    <c:set var="root" value="#{request.contextPath}/faces/" />
    <ul id="nav-mobile" class="side-nav fixed" style="left: 0px;">
        <li class="logo"><a id="logo-container" href="#{root}index.xhtml" class="brand-logo">
            <h:graphicImage library="images" name="logo.png" /></a>
        </li>
        <h:form rendered="#{not empty username}">
            <li><h5 class="center-align pink-text">¡Hola #{username}!</h5></li>
            <div class="center-align" style="padding-bottom: 15px;"><h:commandButton action="#{userController.logout()}" value="Cerrar sesión" class="waves-effect waves-light btn signup red"></h:commandButton></div>
        </h:form>
        <h:form rendered="#{empty username}">
        <li><p class="center-align pink-text">¿Primera vez que nos visitas?</p></li>
        <li class="bold"><a href="#{root}signup.xhtml" class="waves-effect waves-teal">Crea una cuenta</a></li>
        <li class="bold"><a href="#{root}login.xhtml" class="waves-effect waves-teal">Ingresar a tu cuenta</a></li>
        </h:form>
        <h:form rendered="#{not empty rol}">
        <li class="no-padding">
          <ul class="collapsible collapsible-accordion">
            <li class="bold"><a class="collapsible-header active waves-effect waves-teal">Transacciones</a>
              <div class="collapsible-body" style="display: block;">
                <ul>
                    <h:form rendered="#{rol == 3}"><li><a href="#{root}purchase/List.xhtml">Ver tus transacciones</a></li></h:form>
                    <h:form rendered="#{rol == 2 or rol == 1}"><li><a href="#{root}purchase/List.xhtml">Listar todas</a></li></h:form>
                </ul>
              </div>
            </li>
          </ul>
        </li>
        </h:form>
        <h:form rendered="#{rol == 1 or rol == 2}">
        <li class="no-padding">
          <ul class="collapsible collapsible-accordion">
            <li class="bold"><a class="collapsible-header active waves-effect waves-teal">Productos</a>
              <div class="collapsible-body" style="display: block;">
                <ul>
                  <li><a href="#{root}product/List.xhtml">Listar</a></li>
                  <li><a href="#{root}product/Create.xhtml">Añadir</a></li>
                </ul>
              </div>
            </li>
          </ul>
        </li>
        </h:form>
        <h:form rendered="#{rol == 1}">
        <li class="no-padding">
          <ul class="collapsible collapsible-accordion">
            <li class="bold"><a class="collapsible-header active waves-effect waves-teal">Usuarios</a>
              <div class="collapsible-body" style="display: block;">
                <ul>
                  <li><a href="#{root}user/List.xhtml">Listar</a></li>
                  <li><a href="#{root}user/Create.xhtml">Añadir</a></li>
                </ul>
              </div>
            </li>
          </ul>
        </li>
        </h:form>
    </ul>
</ui:composition>
